---
/**
 * Features Section Component
 *
 * Displays a grid of feature cards with icons, titles, and descriptions.
 * Supports multiple icon types (zap, shield, chart, users, globe, lock).
 *
 * @example
 * ```astro
 * <Features
 *   title="Why Choose AstroDeck?"
 *   subtitle="Everything you need to build fast"
 *   features={[
 *     {
 *       icon: "zap",
 *       title: "Lightning Fast",
 *       description: "Built with Astro for optimal performance"
 *     },
 *     {
 *       icon: "shield",
 *       title: "Type Safe",
 *       description: "Full TypeScript support"
 *     }
 *   ]}
 * />
 * ```
 *
 * @customization
 * - Add new icons to iconPaths object (line 16)
 * - Change grid columns by modifying grid class (line 40)
 * - Adjust spacing with py-* and gap-* classes
 */
interface Feature {
  title: string;
  description: string;
  icon: string;
}

interface Props {
  title: string;
  subtitle?: string;
  features: Feature[];
}

const { title, subtitle, features } = Astro.props;

// Each icon is an array of path strings to support multi-path SVGs
const iconPaths: Record<string, string[]> = {
  zap: ["M13 2L3 14h9l-1 8 10-12h-9l1-8z"],
  shield: ["M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],
  chart: ["M18 20V10M12 20V4M6 20v-6"],
  users: ["M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2", "M9 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8z", "M23 21v-2a4 4 0 0 0-3-3.87", "M16 3.13a4 4 0 0 1 0 7.75"],
  globe: ["M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z", "M2 12h20", "M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"],
  lock: ["M19 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2z", "M7 11V7a5 5 0 0 1 10 0v4"],
  "git-branch": ["M6 3v12", "M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z", "M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z", "M18 9a9 9 0 0 1-9 9"],
  "brain-circuit": ["M12 5a3 3 0 1 0-5.997-.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z", "M12 5a3 3 0 1 1 5.997-.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z", "M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4", "M17.599 6.5a3 3 0 0 0 .399-1.375", "M6.003 5.125A3 3 0 0 0 6.401 6.5", "M3.477 10.896a4 4 0 0 1 .585-.396", "M19.938 10.5a4 4 0 0 1 .585.396", "M6 18a4 4 0 0 1-1.967-.516", "M19.967 17.484A4 4 0 0 1 18 18"],
  "layout-grid": ["M3 3h7v7H3z", "M14 3h7v7h-7z", "M14 14h7v7h-7z", "M3 14h7v7H3z"],
  search: ["M11 3a8 8 0 1 0 0 16 8 8 0 0 0 0-16z", "M21 21l-4.35-4.35"],
  cable: ["M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1", "M13 21v-2a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v1a1 1 0 0 0 1 1", "M3 7V5a1 1 0 0 1 1-1h1a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1", "M7 7V5a1 1 0 0 1 1-1h1a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H8a1 1 0 0 1-1-1", "M5 9v6", "M17 15V9"],
  target: ["M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z", "M12 6a6 6 0 1 0 0 12 6 6 0 0 0 0-12z", "M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"],
};
---

<section class="py-32">
  <div class="container max-w-5xl mx-auto">
    <div class="flex flex-col items-center space-y-4 text-center">
      <h2 class="text-3xl font-bold leading-[1.1] sm:text-3xl md:text-5xl">
        {title}
      </h2>
      {subtitle && (
        <p class="max-w-[85%] leading-normal text-muted-foreground sm:text-lg sm:leading-7">
          {subtitle}
        </p>
      )}
    </div>
    <div class="grid gap-px sm:grid-cols-2 md:grid-cols-3 mt-12 bg-border overflow-hidden rounded-lg border shadow-[0_25px_50px_-12px_rgba(0,0,0,0.15)]">
    {features.map((feature) => (
      <div class="relative overflow-hidden bg-card px-10 py-12">
        <div class="inline-flex p-1.5 border border-foreground rounded-lg mb-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="h-5 w-5"
          >
            {(iconPaths[feature.icon] || iconPaths.zap).map((d: string) => (
              <path d={d} />
            ))}
          </svg>
        </div>
        <h3 class="font-bold mb-2">{feature.title}</h3>
        <p class="text-sm text-muted-foreground">{feature.description}</p>
      </div>
    ))}
    </div>
  </div>
</section>
